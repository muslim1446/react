import{r as t,T as g,j as e,R as k,A as L,b as I,d as A,e as x,S as j,U as O,C as z,B as M,l as R,a as P}from"./f1a2b3c4d5exa-MAoiXiSL.js";const B=`
._cd {
  font-family: var(--font-heading);
  font-size: clamp(4.5rem, 8vw, 7.5rem);
  font-weight: 900;
  letter-spacing: -0.03em;
  line-height: 1.1;
  margin: 0 auto;
  text-align: center;
  width: 100%;
  max-width: 1000px;
}
._cd .line-1 {
  display: block;
  background: linear-gradient(180deg, #FFFFFF 10%, #888888 100%);
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
}
._cd .line-2 {
  display: block;
  letter-spacing: 0;
  margin-top: 10px;
  background: none;
  -webkit-text-fill-color: #999999;
  color: #999999;
}
@media (max-width: 768px) {
  ._cd { font-size: clamp(2rem, 10vw, 3.5rem); }
  ._cd .line-2 { font-size: 0.6em; }
}
`;function D(){const[n,a]=t.useState(0),l=t.useRef(!1),c=t.useRef(0),u=3,i=t.useCallback(r=>{r<0||r>=u||l.current||(l.current=!0,a(r),setTimeout(()=>{l.current=!1},g.SLIDE_TRANSITION_LOCK))},[]);return t.useEffect(()=>{function r(d){Math.abs(d.deltaY)<20||(d.deltaY>0?i(n+1):i(n-1))}return window.addEventListener("wheel",r,{passive:!0}),()=>window.removeEventListener("wheel",r)},[n,i]),t.useEffect(()=>{function r(m){c.current=m.touches[0].clientY}function d(m){const p=c.current-m.changedTouches[0].clientY;Math.abs(p)>50&&(p>0?i(n+1):i(n-1))}return window.addEventListener("touchstart",r,{passive:!0}),window.addEventListener("touchend",d,{passive:!0}),()=>{window.removeEventListener("touchstart",r),window.removeEventListener("touchend",d)}},[n,i]),e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:B}}),e.jsxs("div",{id:"_aq",children:[e.jsx("div",{className:`slide${n===0?" active":""}`,id:"slide-1",children:e.jsxs("div",{className:"_a9 visible",style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%"},children:[e.jsxs("h1",{className:"_cd",children:[e.jsx("span",{className:"line-1",children:"Fulfillment"}),e.jsx("span",{className:"line-2",children:"not the feed"})]}),e.jsx("p",{className:"_as",children:e.jsx("b",{children:"Listen Anywhere. Feel Everything."})}),e.jsx("h2",{})]})}),e.jsx("div",{className:`slide${n===1?" active":""}`,id:"slide-2",children:e.jsxs("div",{className:"_by",style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[e.jsx("div",{className:"_1"}),e.jsx("h2",{className:"_av",id:"_az",children:"The Cleaving"}),e.jsx("div",{className:"_bl",style:{display:"none"}}),e.jsx("div",{className:"_dk",id:"_dk",style:{display:"none"}}),e.jsx(w,{side:"left"}),e.jsx(w,{side:"right"})]})}),e.jsx("div",{className:`slide${n===2?" active":""}`,id:"slide-3",children:e.jsxs("div",{className:"_by",style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[e.jsx("div",{className:"_1"}),e.jsx("h2",{className:"_av",id:"_n",children:"The Moon"}),e.jsx("div",{className:"_bl",style:{display:"none"}}),e.jsx("div",{className:"_dk",id:"_ap",style:{display:"none"}}),e.jsx(w,{side:"left"}),e.jsx(w,{side:"right"})]})})]})]})}function w({side:n}){const a=n==="left";return e.jsxs("div",{className:`_s ${n}`,children:[e.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:a?e.jsx("path",{d:"M11 18V6l-8.5 6 8.5 6zm.5-6l8.5 6V6l-8.5 6z"}):e.jsx("path",{d:"M4 18l8.5-6L4 6v12zm9-12v12l8.5-6-8.5-6z"})}),e.jsx("span",{children:a?"-10s":"+10s"})]})}const b=()=>e.jsxs("svg",{viewBox:"0 0 18 18",children:[e.jsx("path",{d:"M17.64 9.2c0-.637-.057-1.252-.164-1.841H9v3.481h4.844a4.14 4.14 0 0 1-1.796 2.716v2.259h2.908c1.702-1.567 2.684-3.875 2.684-6.615z",fill:"#4285F4"}),e.jsx("path",{d:"M9 18c2.43 0 4.467-.806 5.956-2.18l-2.908-2.259c-.806.54-1.837.86-3.048.86-2.344 0-4.328-1.584-5.036-3.715H.957v2.332A8.997 8.997 0 0 0 9 18z",fill:"#34A853"}),e.jsx("path",{d:"M3.964 10.71A5.41 5.41 0 0 1 3.682 9c0-.593.102-1.17.282-1.71V4.958H.957A8.996 8.996 0 0 0 0 9c0 1.452.348 2.827.957 4.042l3.007-2.332z",fill:"#FBBC05"}),e.jsx("path",{d:"M9 3.58c1.321 0 2.508.454 3.44 1.345l2.582-2.58C13.463.891 11.426 0 9 0A8.997 8.997 0 0 0 .957 4.958L3.964 7.29C4.672 5.163 6.656 3.58 9 3.58z",fill:"#EA4335"})]}),F=()=>e.jsx("svg",{viewBox:"0 0 512 512",children:e.jsx("path",{fill:"currentColor",d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm113.8 354.6c-4.5 7.4-13.8 9.9-21.3 5.4-58.3-33.5-131.7-41.1-218.3-22.5-8.5 2-17.1-3.3-19.1-11.8-2-8.5 3.3-17.1 11.8-19.1 94.6-20.3 175.7-11.4 241.6 26.3 7.4 4.5 9.9 13.8 5.4 21.3zm29.8-66.2c-5.6 9.2-17.3 12.1-26.4 6.5-66.9-41.1-168.9-53-248-29-10.2 3.1-21.2-2.5-24.2-12.7-3.1-10.2 2.5-21.2 12.7-24.2 90.6-27.4 204.6-13.7 282.1 33.9 9.1 5.6 12 17.3 6.5 26.4zM408.6 186c-80.4-47.8-213.1-52.2-290-28.8-12.4 3.8-25.5-3.1-29.3-15.5-3.8-12.4 3.1-25.5 15.5-29.3 89-27.1 235.4-21.9 328.6 33.5 11.2 6.6 14.9 21.2 8.3 32.4-6.6 11.2-21.2 14.9-32.4 8.3z"})}),G=()=>e.jsx("svg",{viewBox:"0 0 512 365",children:e.jsx("path",{fill:"currentColor",d:"M378.186 365.028s-15.794-18.865-28.956-35.099c57.473-16.232 79.41-51.77 79.41-51.77-17.989 11.846-35.099 20.182-50.454 25.885-21.938 9.213-42.997 14.917-63.617 18.866-42.118 7.898-80.726 5.703-113.631-.438-25.008-4.827-46.506-11.407-64.494-18.867-10.091-3.947-21.059-8.774-32.027-14.917-1.316-.877-2.633-1.316-3.948-2.193-.877-.438-1.316-.878-1.755-.878-7.898-4.388-12.285-7.458-12.285-7.458s21.06 34.659 76.779 51.331c-13.163 16.673-29.395 35.977-29.395 35.977C36.854 362.395 0 299.218 0 299.218 0 159.263 63.177 45.633 63.177 45.633 126.354-1.311 186.022.005 186.022.005l4.388 5.264C111.439 27.645 75.461 62.305 75.461 62.305s9.653-5.265 25.886-12.285c46.945-20.621 84.236-25.885 99.592-27.64 2.633-.439 4.827-.878 7.458-.878 26.763-3.51 57.036-4.387 88.624-.878 41.68 4.826 86.43 17.111 132.058 41.68 0 0-34.66-32.906-109.244-55.281l6.143-7.019s60.105-1.317 122.844 45.628c0 0 63.178 113.631 63.178 253.585 0-.438-36.854 62.739-133.813 65.81l-.001.001zm-43.874-203.133c-25.006 0-44.75 21.498-44.75 48.262 0 26.763 20.182 48.26 44.75 48.26 25.008 0 44.752-21.497 44.752-48.26 0-26.764-20.182-48.262-44.752-48.262zm-160.135 0c-25.008 0-44.751 21.498-44.751 48.262 0 26.763 20.182 48.26 44.751 48.26 25.007 0 44.75-21.497 44.75-48.26.439-26.763-19.742-48.262-44.75-48.262z"})});function W({visible:n,onClose:a,onSocialLogin:l,isTvMode:c,errorText:u}){const i=t.useRef(null);t.useEffect(()=>{n&&i.current?(i.current.style.display="flex",requestAnimationFrame(()=>{var d;(d=i.current)==null||d.classList.add("visible")})):!n&&i.current&&(i.current.classList.remove("visible"),setTimeout(()=>{i.current&&(i.current.style.display="none")},g.AUTH_MODAL_CLOSE))},[n]);const r=()=>{window.Android&&window.Android.startGoogleLogin&&(window.Android.startGoogleLogin(),setTimeout(()=>{window.location.href="https://Quran-lite.pages.dev?dev_key_bypass_fortest_unauthorized_use_may_cause_legal_consequences=02mz01010199SosMaOIOUJINksnwiI0390jk0ihwcf02ew8uf083yfuhoh3f93"},200))};return e.jsx("div",{id:"_ah",ref:i,style:{background:"rgba(0,0,0,0.8)",padding:"40px",textAlign:"center"},children:e.jsxs("div",{className:"_ed",children:[e.jsx("h2",{className:"_ba",children:"on its way."}),u&&e.jsx("div",{id:"_du",style:{display:"block",color:"#ff4444",fontSize:"0.9rem",marginTop:"10px"},children:u}),e.jsxs("div",{id:"_bo",style:{display:c?"none":"flex",width:"100%",flexDirection:"column",gap:"16px"},children:[e.jsxs("button",{onClick:()=>l("google"),id:"_b6",className:"_dl _dm",style:{fontSize:"2rem",fontWeight:700},children:[e.jsx(b,{}),"Continue with Google"]}),e.jsxs("button",{onClick:()=>l("spotify"),className:"_dl _dm",style:{fontSize:"2rem",fontWeight:700},children:[e.jsx(F,{}),"Continue with Spotify"]}),e.jsxs("button",{onClick:()=>l("discord"),className:"_dl _dm",style:{fontSize:"2rem",fontWeight:700},children:[e.jsx(G,{}),"Continue with Discord"]})]}),e.jsx("div",{id:"_b9",style:{display:c?"block":"none",width:"100%"},children:e.jsxs("button",{onClick:r,className:"_dl _dm",style:{fontSize:"2rem",fontWeight:700},children:[e.jsx(b,{}),"Continue with Google"]})}),e.jsx("div",{style:{display:"none",marginTop:"20px",fontSize:"0.8rem",color:"#888",cursor:"pointer"},onClick:a,children:"Cancel"})]})})}function U(){const[n,a]=t.useState(!1),[l,c]=t.useState("");k.useEffect(()=>{window.openLegal=i=>{a(!0)},window.closeLegal=()=>a(!1)},[]);const u=t.useCallback(()=>{a(!1)},[]);return e.jsx("div",{id:"_b8",className:`_bp${n?" active":""}`,children:e.jsxs("div",{className:"_ag",children:[e.jsx("button",{className:"_c8",onClick:u,children:e.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})}),e.jsx("div",{id:"_ae",className:"_x",dangerouslySetInnerHTML:{__html:l}})]})})}function $(){const[n,a]=t.useState(!1),[l,c]=t.useState(!1),[u,i]=t.useState("Confirming availability"),[r,d]=t.useState(""),[m,p]=t.useState(!1),[S,_]=t.useState("Start watching now"),h=t.useRef(null);t.useEffect(()=>{try{if(window.supabase){const{createClient:s}=window.supabase;h.current=s(I,A),window.supabaseClient=h.current}}catch(s){console.error("Supabase Init Error",s)}},[]),t.useEffect(()=>{window.location.search.includes("tv")&&(p(!0),document.cookie=`${x.TV_ENV}=true; path=/; max-age=31536000`)},[]),t.useEffect(()=>{const s=document.cookie,o=s.includes(`${x.AUTH_GOOGLE}=true`),f=s.includes(`${x.PREMIUM}=true`);o&&!f&&(document.cookie=`${x.PREMIUM}=true; path=/; max-age=31536000`,window.location.reload())},[]),t.useEffect(()=>{async function s(){if(!h.current){v();return}try{const{data:f}=await h.current.auth.getSession();f&&f.session?E():v()}catch{v()}}const o=setTimeout(s,100);return()=>clearTimeout(o)},[]),t.useEffect(()=>{const s=window.location.search,o=window.location.pathname;(s.includes("mb")||o.includes("/mb"))&&a(!0)},[]);function v(){_("Start listening now")}function E(){const s=sessionStorage.getItem(j.LOOP_PROTECTION),o=Date.now();if(s&&o-parseInt(s)<g.LOOP_PROTECTION){console.warn("Loop detected. Stopping auto-sequence."),c(!1),_("Click to Enter");return}y()}async function y(){c(!0),i("Authenticating...");try{await R(),i(""),sessionStorage.setItem(j.LOOP_PROTECTION,String(Date.now())),setTimeout(()=>{window.location.href="/?t="+new Date().getTime()},g.ACTIVATION_REDIRECT_DELAY)}catch(s){console.error("Activation Error",s),i("Connection failed. Please retry."),setTimeout(()=>{c(!1)},2e3)}}const C=t.useCallback(()=>{const s=sessionStorage.getItem(j.LOOP_PROTECTION),o=Date.now();if(s&&o-parseInt(s)<g.LOOP_PROTECTION){y();return}a(!0)},[]),T=t.useCallback(async s=>{if(h.current)try{s==="google"&&(document.cookie=`${x.AUTH_GOOGLE}=true; path=/; max-age=31536000`);const{error:o}=await h.current.auth.signInWithOAuth({provider:s,options:{redirectTo:window.location.href}});if(o)throw o}catch(o){console.error(o),d("Login failed. Please try again.")}},[]),N=t.useCallback(()=>{a(!1)},[]);return t.useEffect(()=>{window.onNativeLoginSuccess=async function(s){if(!h.current){alert("System error: Supabase not initialized.");return}try{const{data:o,error:f}=await h.current.auth.signInWithIdToken({provider:"google",token:s});if(f)throw f;if((await fetch("/login",{method:"POST"})).ok)window.location.reload();else throw new Error("Failed to set premium cookie.")}catch(o){console.error("Real Native Login Error:",o)}}},[]),t.useEffect(()=>{if(window.location.search==="?tv"){const s=document.getElementById("_ao");s&&s.focus()}},[]),e.jsxs(e.Fragment,{children:[e.jsx(O,{}),e.jsx(z,{}),e.jsxs("div",{id:"_ci",children:[e.jsxs("div",{style:{padding:"20px",display:"flex"},children:[e.jsxs("div",{className:"_p",style:{position:"absolute",top:"20px",left:"20px"},children:[e.jsx("img",{src:"https://raw.githubusercontent.com/Quran-lite-pages-dev/Quran-lite.pages.dev/refs/heads/master/assets/ui/logo.png",alt:"Tuwa Logo"}),e.jsx("span",{children:"Tuwa"})]}),e.jsx(M,{logoSrc:"https://raw.githubusercontent.com/Quran-lite-pages-dev/Quran-lite.pages.dev/refs/heads/master/assets/ui/logo.png"})]}),e.jsx("div",{className:"_bm",children:e.jsx("div",{className:"_6",children:e.jsxs("button",{id:"_ao",className:"_c2",onClick:C,children:[e.jsx("span",{children:S}),e.jsx("svg",{className:"_ep","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m10 16 4-4-4-4"})})]})})})]}),e.jsx(D,{}),e.jsxs("div",{className:`_9${l?" active":""}`,children:[e.jsx("div",{className:"_bi"}),e.jsx("div",{className:"_7",id:"_bk",children:u})]}),e.jsx(U,{}),e.jsx(W,{visible:n,onClose:N,onSocialLogin:T,isTvMode:m,errorText:r})]})}function V(){return e.jsx(L,{children:e.jsx($,{})})}"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").catch(n=>{console.error("SW registration failed:",n)})});const Y=P.createRoot(document.getElementById("root"));Y.render(e.jsx(V,{}));
